많은 리눅스에서 흔하게 사용되는 sudo 명령에 취약점이 있다고 하여 실습을 해보았다.



sudo 명령은 기본적으로 superuser do, 즉 명령을 super user 권한으로 실행하도록 설정되어있지만 기능이 확장되면서 substitute user do, 다른사용자의 권한으로 실행이 가능하게 되었다. 



CVE-2019-14287로 명명된 해당 취약점은 사용자가 sudoers file 내에 root가 아닌 다른 사용자의 권한으로 명령을 실행하도록 설정되어있음에도 root권한으로 명령을 실행할수있다.

![img](\images\994E863B5DA5830A23)



> sudo -u #-1 id -u
>
> sudo –u#4294967295 id -u

위 명령의 실행 결과가 0이 나온다면 해당 취약점에 노출되어있는것이다.



어이없을정도로 간단하지만 root에 접근할수 없도록 설정한 사용자가 이를 우회할수 있기때문에 패치가 필요하다.





패치를 하고나면 아래와같이 표시된다.

![image-20200322062410119](\images\image-20200322062410119.png)





---


참조한 페이지

https://blog.aquasec.com/cve-2019-14287-sudo-linux-vulnerability

https://blog.alyac.co.kr/2557

https://cybersectrend.tistory.com/205
